import{_ as b,u as w,r as y,c as g,a as e,b as _,w as x,g as d,v as m,h as S,o as k,L as q,e as D,p as T,f as j}from"./index-2GyLmFfV.js";const u={_origin:"https://api.emailjs.com"},N=(o,t="https://api.emailjs.com")=>{u._userID=o,u._origin=t},h=(o,t,s)=>{if(!o)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class f{constructor(t){this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"}}const v=(o,t,s={})=>new Promise((l,r)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:a})=>{const c=new f(a);c.status===200||c.text==="OK"?l(c):r(c)}),i.addEventListener("error",({target:a})=>{r(new f(a))}),i.open("POST",u._origin+o,!0),Object.keys(s).forEach(a=>{i.setRequestHeader(a,s[a])}),i.send(t)}),B=(o,t,s,l)=>{const r=l||u._userID;return h(r,o,t),v("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:o,template_id:t,template_params:s}),{"Content-type":"application/json"})},F=o=>{let t;if(typeof o=="string"?t=document.querySelector(o):t=o,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},P=(o,t,s,l)=>{const r=l||u._userID,i=F(s);h(r,o,t);const a=new FormData(i);return a.append("lib_version","3.11.0"),a.append("service_id",o),a.append("template_id",t),a.append("user_id",r),v("/api/v1.0/email/send-form",a)},p={init:N,send:B,sendForm:P},n=o=>(T("data-v-ccdf49bc"),o=o(),j(),o),V={class:"intro bg-black text-white"},E={class:"p-4 fixed top-0 w-full"},I=n(()=>e("div",{class:"intro-main pt-10 flex justify-center items-center"},[e("div",{class:"items-center flex flex-col justify-center"},[e("h1",{class:"text-6xl mb-2 homemade drop-shadow-xl"},"Book a Trip / Flight")])],-1)),L={class:"mt-5 flex flex-col justify-center items-center w-full p-10"},M=n(()=>e("label",{for:"name"},"Name:",-1)),H=n(()=>e("br",null,null,-1)),O=n(()=>e("label",{for:"email"},"Email:",-1)),R=n(()=>e("br",null,null,-1)),U=n(()=>e("label",{for:"tour"},"Select Safari Tour:",-1)),A=n(()=>e("option",{value:"Arusha National Park Day Safari"},"Arusha National Park Day Safari",-1)),C=n(()=>e("option",{value:"Tarangire National Park Dy Safari"},"Tarangire National Park Dy Safari",-1)),J=n(()=>e("option",{value:"Chemka Hot Spring Day Safari"},"Chemka Hot Spring Day Safari",-1)),z=n(()=>e("option",{value:"Balloon Safari"},"Balloon Safari",-1)),G=[A,C,J,z],K=n(()=>e("br",null,null,-1)),Q=n(()=>e("label",{for:"participants"},"Number of Participants:",-1)),X=n(()=>e("br",null,null,-1)),Y=n(()=>e("label",{for:"date"},"Tour Date:",-1)),W=n(()=>e("button",{class:"bg-orange-400 hover:bg-white mt-3 hover:text-black p-2",type:"submit"},"Book Now",-1)),Z={__name:"BookingForm",setup(o){const t=w();p.init("6sG6eYDndzcj1QsJP");const s=y({name:"",email_id:"",destination:"",participants:null,date:""}),l=async()=>{try{const r=await p.send("service_vjyw5ti","template_dqrqwbg",s.value);console.log("Booking confirmation email sent:",r);const i=await p.send("service_vjyw5ti","template_dqrqwbg",{to_email:s.value.email_id});console.log("Auto-reply email sent:",i),t.push("/thank-you")}catch(r){console.error("Error sending emails:",r)}};return(r,i)=>(k(),g("div",null,[e("main",V,[e("div",E,[_(q)]),I]),e("div",L,[e("form",{onSubmit:x(l,["prevent"]),class:"w-2/3 flex flex-col"},[M,d(e("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.name=a),type:"text",id:"name",name:"name",required:""},null,512),[[m,s.value.name]]),H,O,d(e("input",{"onUpdate:modelValue":i[1]||(i[1]=a=>s.value.email_id=a),type:"email",id:"email",name:"email_id",required:""},null,512),[[m,s.value.email_id]]),R,U,d(e("select",{class:"p-2 text-black rounded-xl mt-2 outline-none",id:"tour",name:"destination","onUpdate:modelValue":i[2]||(i[2]=a=>s.value.destination=a),required:""},G,512),[[S,s.value.destination]]),K,Q,d(e("input",{type:"number","onUpdate:modelValue":i[3]||(i[3]=a=>s.value.participants=a),id:"participants",name:"participants",min:"1",required:""},null,512),[[m,s.value.participants]]),X,Y,d(e("input",{type:"date","onUpdate:modelValue":i[4]||(i[4]=a=>s.value.date=a),id:"date",name:"date",required:""},null,512),[[m,s.value.date]]),W],32)]),e("div",null,[_(D)])]))}},ee=b(Z,[["__scopeId","data-v-ccdf49bc"]]);export{ee as default};
